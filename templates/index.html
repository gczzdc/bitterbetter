<!DOCTYPE html>
<html>
<title>BitterBetter</title>
<head>
<link rel = stylesheet type=text/css href=../static/style.css>
<!-- {{resources}} -->
</head>
<body>
<div class = page>
	<h3>BitterBetter</h3>
	<div class="flex-container">
		<div>
			<div class="graph box" style = "min-height:280px">
				<h4> 
				{{error_message}}
				<form id = 'choices' method='post' action='index'>
					<p class="choice">
					<label>
						<textarea name="submission" rows="10" cols="70" maxlength="10000">{{submission}}</textarea>
					</label>
					</p>	
					<p align=center>
						<span style = "margin-right: 30px">
							ABV: <input type="text" name="abv" value="5.0">
						</span>
						<span>
							Style: 
							<select name="style">
								<option value="not specified" {{selected_not_specified}}>Not specified</option>
								<optgroup label="Ales">
								<option value="Pale Ale - American / APA" {{selected_Pale_Ale___American___APA}}>American pale ale</option>
								<option value="Belgian Ale - Pale / Golden" {{selected_Belgian_Ale___Pale___Golden}}>Belgian (golden) ale</option>
								<option value="Witbier / Belgian White Ale" {{selected_Witbier___Belgian_White_Ale}}>Belgian (white) ale</option>
								<option value="IPA - Hazy / NEIPA" {{selected_IPA___Hazy___NEIPA}}>Hazy IPA</option>
								<option value="Weissbier - Hefeweizen" {{selected_Weissbier___Hefeweizen}}>Hefeweizen</option>
								<option value="IPA - Black/Brown/Cascadian Dark" {{selected_IPA___Black_Brown_Cascadian_Dark}}>Black/Brown IPA</option>
								<option value="Blonde Ale / Golden Ale" {{selected_Blonde_Ale___Golden Ale}}>Blonde Ale</option>
								<option value="Brown Ale" {{selected_Brown Ale}}>Brown Ale</option>
								<option value="IIPA - Imperial / Double IPA" {{selected_IIPA___Imperial___Double_IPA}}>Double IPA</option>
								<option value="IPA" {{selected_IPA}}>IPA</option>
								<option value="Red Ale / Intl Amber Ale" {{selected_Red_Ale___Intl_Amber_Ale}}>Red Ale</option>
								<option value="Saison / Farmhouse / Grisette" {{selected_Saison___Farmhouse___Grisette}}>Saison</option>
								<option value="ISA - Session IPA" {{selected_ISA___Session_IPA}}>Session IPA</option>
								<option value="Wheat Ale" {{selected_Wheat_Ale}}>Wheat Ale</option>
								</optgroup>
								<optgroup label="Other">
								<option value="Stout - Milk / Sweet" {{selected_Stout___Milk___Sweet}}>Milk stout</option>
								<option value="Stout - Imperial" {{selected_Stout___Imperial}}>Imperial stout</option>
								<option value="Pilsener / Pils / Pilsner" {{selected_Pilsener___Pils___Pilsner}}>Pilsner</option>
								<option value="Porter" {{selected_Porter}}>Porter</option>
								<option value="Stout" {{selected_Stout}}>Stout</option>
								<option value="Sour / Wild Beer" {{selected_Sour___Wild Beer}}>Sour</option>
								</optgroup>
							</select>
						</span>
					</p>
					<p align=center>		
					<input type='submit' value='Submit'/>
					</p>
				</form>	
				</h4>
			</div>
		</div>
		{{full_results}}
	</div>
<p>
	BitterBetter is a tool that predicts the bitterness of beers from textual descriptions of them. It also uses information about the alcohol content and style of beer (currently hard-coded to 5.5% and APA for demonstration purposes). 
</p>
<p>
	The imagined use case is for brewers to make sure that their brand story is correctly calibrated to communicate the desired information about bitterness to the consumer.
</p>
<p>
The data for this project was scraped from about 85000 beer entries from <a href="https://ratebeer.com">ratebeer.com</a>. Bitterness is estimated via the <a href = "https://en.wikipedia.org/wiki/Beer_measurement#Bitterness">International Bittering Unit</a> or IBU scale, which measures the concentration of certain acids which arise during the brewing process. An IBU rating does not correspond precisely to perceived bitterness but has a high correlation with it.
</p>

<p>
Under the hood, the models used are standard NLP tools: the words are tokenized and both individual words and bigrams are one-hot-encoded. A combination of linear regression with Ridge normalization and random forest ensembles are used to generate the predictions.
</p>

<p>
The current results obtain modest but signficant improvemnents over a naive linear regression based only on the alcohol content and style.
</p>
<p>
This project was implemented in python. Specific technologies and packages used in it included:
<ul>
	<li> Development: Jupyter, git</li>
	<li> Scraping: selenium, BeautifulSoup, distributed computing (via DigitalOcean)</li>
	<li> Munging: pandas</li>
	<li> Model: sklearn</li>
	<li> Presentation: Flask, Heroku, matplotlib, seaborn</li>
</ul>
</p>
</div>


</body>
</html>